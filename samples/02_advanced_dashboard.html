<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AI-Native Dashboard v2 | Token CSS</title>
    <style>
        /* Base styles */
        body {
            margin: 0;
            font-family: sans-serif;
            overflow: hidden;
        }

        * {
            box-sizing: border-box;
            transition: all var(--t-dur, 0ms) var(--t-ease, ease);
        }
    </style>
    <script>
        /**
         * Token CSS Runtime v2
         * Supports Scoped Nesting for X(...) and M(...)
         */
        function applyTokenCSS() {
            const elements = document.querySelectorAll('[class*="("]');
            const styleTag = document.createElement('style');
            let cssRules = '';

            const compile = (input, selector) => {
                const mapL = { 'dir:col': 'flex-direction:column', 'dir:row': 'flex-direction:row', 'x:cntr': 'justify-content:center', 'x:f': 'justify-content:flex-start', 'x:e': 'justify-content:flex-end', 'x:b': 'justify-content:space-between', 'y:cntr': 'align-items:center', 'w:1': 'width:100%', 'h:v': 'height:100vh', 'h:1': 'height:100%' };
                const mapS = { 'glass': 'backdrop-filter:blur(10px);background:rgba(255,255,255,0.05);', 'shd:1': 'box-shadow:0 4px 6px -1px rgba(0,0,0,0.1)' };

                const processTokens = (scope, tokens) => {
                    let res = '';
                    if (scope === 'L') {
                        res += 'display:flex;';
                        tokens.split(' ').forEach(t => {
                            if (mapL[t]) res += mapL[t] + ';';
                            else if (t.startsWith('p:')) res += `padding:${t.split(':')[1] * 0.25}rem;`;
                            else if (t.startsWith('g:')) res += `gap:${t.split(':')[1] * 0.25}rem;`;
                            else if (t.startsWith('w:')) res += `width:${t.split(':')[1] === '1' ? '100%' : t.split(':')[1].replace('v', 'vw').endsWith('%') ? t.split(':')[1] : t.split(':')[1] + 'px'};`;
                        });
                    } else if (scope === 'S') {
                        tokens.split(' ').forEach(t => {
                            if (mapS[t]) res += mapS[t] + ';';
                            else if (t.startsWith('bg:')) res += `background:${t.split(':')[1]};`;
                            else if (t.startsWith('rad:')) res += `border-radius:${t === 'rad:f' ? '9999px' : t.split(':')[1] === 'xl' ? '12px' : '4px'};`;
                        });
                    } else if (scope === 'T') {
                        tokens.split(' ').forEach(t => {
                            if (t.startsWith('sz:')) res += `font-size:${t.split(':')[1]}px;`;
                            else if (t.startsWith('c:')) res += `color:${t.split(':')[1]};`;
                            else if (t.startsWith('w:')) res += `font-weight:${t.split(':')[1].replace('b', '00')};`;
                        });
                    } else if (scope === 'A') {
                        tokens.split(' ').forEach(t => {
                            if (t.startsWith('dur:')) res += `--t-dur:${t.split(':')[1]}ms;`;
                            if (t.startsWith('trnsf:sc:')) res += `transform:scale(${t.split(':')[1]});`;
                        });
                    }
                    return res;
                };

                const parse = (str, currentSelector) => {
                    const regex = /([LSTXMA])\((.*?)\)/g;
                    let match;
                    let baseCSS = '';
                    while ((match = regex.exec(str)) !== null) {
                        const [full, scope, content] = match;
                        if (['L', 'S', 'T', 'A'].includes(scope)) {
                            baseCSS += processTokens(scope, content);
                        } else if (scope === 'X') {
                            const [state, inner] = content.split(':');
                            const stateMap = { hvr: ':hover', actv: ':active', fcs: ':focus' };
                            cssRules += `${currentSelector}${stateMap[state]} { ${parse(inner, currentSelector)} }\n`;
                        } else if (scope === 'M') {
                            const [bp, inner] = content.split(':');
                            const bpMap = { sm: '640px', md: '768px', lg: '1024px' };
                            cssRules += `@media (min-width: ${bpMap[bp]}) { ${currentSelector} { ${parse(inner, currentSelector)} } }\n`;
                        }
                    }
                    return baseCSS;
                };

                return parse(input, selector);
            };

            elements.forEach((el, i) => {
                const className = `t-${i}`;
                const css = compile(el.className, `.${className}`);
                if (css) cssRules += `.${className} { ${css} }\n`;
                el.classList.add(className);
            });
            styleTag.innerHTML = cssRules;
            document.head.appendChild(styleTag);
        }
        window.onload = applyTokenCSS;
    </script>
</head>

<body class="L(dir:col h:v w:1) M(md:L(dir:row)) S(bg:#0f172a) T(c:#cbd5e1) A(dur:300)">

    <!-- Sidebar (Collapsible on Mobile) -->
    <aside class="L(dir:col p:6 g:8 w:1 h:20) M(md:L(h:1 w:64)) S(bg:#1e293b brdr:0/0/1/sol/#334155)">
        <div class="L(dir:row x:b y:cntr)">
            <div class="T(sz:24 w:8b c:#38bdf8)">TOKEN.AI</div>
            <div class="M(md:L(w:0))">â˜°</div>
        </div>
        <nav class="L(dir:row g:4) M(md:L(dir:col))">
            <div class="L(p:2) T(c:#fff) X(hvr:T(c:#38bdf8))">Dashboard</div>
            <div class="L(p:2) T(c:#94a3b8) X(hvr:T(c:#38bdf8))">Analytics</div>
        </nav>
    </aside>

    <!-- Main -->
    <main class="L(dir:col p:4 g:6 w:1) M(md:L(p:8))">

        <header class="L(dir:row x:b y:cntr)">
            <div class="T(sz:20 w:6b)">Market Intelligence</div>
            <div class="L(w:10 h:10) S(bg:#38bdf8 rad:f) X(hvr:A(trnsf:sc:1.1)) A(dur:200)"></div>
        </header>

        <!-- Stats Grid -->
        <section class="L(dir:col g:4) M(md:L(dir:row g:6))">
            <div class="L(dir:col p:6 g:2 w:1) S(glass rad:xl) X(hvr:S(bg:rgba(255,255,255,0.1))) A(dur:300)">
                <div class="T(sz:14 c:#94a3b8)">Portfolio</div>
                <div class="T(sz:28 w:7b c:#fff)">$2.4M</div>
            </div>
            <div class="L(dir:col p:6 g:2 w:1) S(glass rad:xl) X(hvr:S(bg:rgba(255,255,255,0.1))) A(dur:300)">
                <div class="T(sz:14 c:#94a3b8)">Gas Saved</div>
                <div class="T(sz:28 w:7b c:#10b981)">8.2 ETH</div>
            </div>
        </section>

        <!-- Interactive List -->
        <section class="L(dir:col g:4)">
            <div class="T(sz:18 w:6b)">Live Feeds</div>
            <div class="L(dir:col g:2)">
                <div class="L(dir:row x:b p:4) S(bg:#1e293b rad:md) X(hvr:S(bg:#334155)) A(dur:150)">
                    <div class="T(c:#fff)">Mainnet Cluster #09</div>
                    <div class="T(c:#38bdf8)">ACTIVE</div>
                </div>
                <div class="L(dir:row x:b p:4) S(bg:#1e293b rad:md) X(hvr:S(bg:#334155)) A(dur:150)">
                    <div class="T(c:#fff)">Liquidity Bridge</div>
                    <div class="T(c:#10b981)">99.9% SPF</div>
                </div>
            </div>
        </section>

    </main>

</body>

</html>